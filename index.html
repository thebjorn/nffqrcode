<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <meta name="mobile-web-app-capable" content="yes"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.14.0/cdn/themes/light.css" />
    <script type="module"
        src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.14.0/cdn/shoelace-autoloader.js"></script>

    <style>
        body {
            display: flex;
            justify-content: start;
            align-items: start;
            height: 100vh;
            width: 100vw;
            margin: 0;
            padding: 0;
            font-size: 16px;
        }

        :root {
            --qr-size: 280px;

            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif
        }

        .phone {
            position: relative;


            .phone-content {
                height: 100dvh;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                overflow: hidden;
            }
        }

        /* content css */

        hgroup {
            display: flex;
            align-items: center;
            max-width: 100vw;
            gap: 20px;
            padding-inline: max(4rem, 25vw);
            background-color: #00205b;
            color: white;
            padding: 1.5rem 2rem;
            border: 1px solid green;

            .header {
                display: flex;
                align-items: center;
                gap: 1rem;

                img {
                    width: 60px;
                    aspect-ratio: 1;
                }
            }

            h1 {
                font-size: clamp(1rem, 6vw, 2rem);
                margin: 0;
            }


        }

        hgroup:hover {
            background-color: #00205bbe;
        }

        .qr-wrapper {
            margin: 0 auto;
            display: block;
            position: relative;

            p {
                text-align: center;
                font-size: .8rem;
                margin-top: 0;
            }
        }

        #nff-logo {
            position: absolute;
            top: calc(var(--qr-size) / 2);
            left: calc(var(--qr-size) / 2);
            transform: translate(-50%, -50%);
            width: 90px;
            aspect-ratio: 1;
        }

        em {
            font-style: normal;
            font-size: 120%;
            margin-inline: 1rem;
        }

        .content {
            display: flex;
            flex-direction: column;
            text-align: center;
            padding-inline: 2rem;

            h2 {
                margin-bottom: 0;
            }

            p.dommernr {
                margin: 0;
                color: #666;
            }
        }

        .valid {
            color: red;
            font-size: 1.5rem;
            text-align: center;

        }

        footer {
            padding-block: clamp(5px, 3vw, 2rem) clamp(5px, 5vw, 2rem);
            padding-inline: clamp(5px, 5vw, 2rem);
        }


        @media (orientation: landscape) {
            .content {
                flex-direction: row;
            }

            .left {
                flex: 1;
            }
            .right {
                margin-top: 1rem;
            }

            .qr-wrapper {
                
                flex: 1;
            }
            .valid {font-size: 1.1rem; margin-block: .5rem;}
        }
    </style>
</head>

<body>
    <div class="phone">


        <div class="phone-content">

            <hgroup>
                <div class="header">
                    <img src="img/nff-logo.png" alt="NFF">
                    <h1>NFF Nordmøre og Romsdal</h1>
                </div>
            </hgroup>

            <div class="content">
                <div class="left">
                    <h2>Testulf Testelid Testesen</h2>
                    <p class="dommernr">Dommernr.: <em>99-999</em></p>

                    <p>Adgansbevis for <em>to personer</em> til alle fotballkamper arrangert av klubber i kretsen</p>


                </div>

                <div class="right">
                    <div class="valid">
                        Gyldig sesongen <em>2024</em>
                    </div>
                    <div class="qr-wrapper">
                        <sl-qr-code id="qr-widget" value="https://shoelace.style/components/qr-code#parts"
                            label="Scan this code to visit Shoelace on the web!" size="100">

                        </sl-qr-code>
                        <img id="nff-logo" src="img/nff-logo.png" alt="NFF">
                        <p>Skann QR koden for å verifisere gyldighet</p>
                    </div>
                </div>
            </div>
            <footer>
                Kortet kan ikke overdras eller lånes ut, og er kun gyldig ved femvising av legitimasjon eller digital
                verifisering.
            </footer>
        </div>
    </div>

    <script>
        function resize() {
            const clamp = (min, max, value) => {
                return Math.min(Math.max(min, value), max);
            }
            const wwidth = window.innerWidth;
            const hheight = window.innerHeight;
            console.log(wwidth)
            const size = clamp(150, 650, Math.min(hheight * .4, wwidth * .65))
            const logosize = size * 0.4;
            const qr = document.querySelector('sl-qr-code');
            qr.size = size;

            const nffLogo = document.getElementById('nff-logo');
            nffLogo.style.width = `${logosize}px`;
            const root = document.querySelector(':root');
            root.style.setProperty('--qr-size', `${size}px`);
        }
        resize();
        window.addEventListener('resize', resize);
        const qrcode = document.querySelector('qr-widget');

        setInterval(() => {
            qrcode?.value += 'x'
        }, 1000);
    </script>
</body>

</html>